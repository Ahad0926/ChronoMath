<div class="flex h-screen">
  <!-- Sidebar Component -->
  <app-sidebar></app-sidebar>

  <!-- Main Timeline Area -->
  <div class="flex-grow bg-gray-200 relative overflow-hidden select-none">
    <!-- Parent Container (captures events) -->
    <div class="w-full h-full relative" #timelineParent>
      <!-- The element panzoom transforms -->
      <div #timelineCanvas class="absolute top-0 left-0 w-full h-full">
        <app-node
          *ngFor="let node of nodes"
          [title]="node.title"
          [description]="node.description"
          [positionX]="node.positionX"
          [positionY]="node.positionY"
          [color]="node.color"
          [icon]="node.icon"
          (click)="openModal(node.title, node.description)">
        </app-node>
      </div>
    </div>

    <!-- ðŸŸ¦ Move Modal Outside Panzoom Canvas -->
    <app-details
      *ngIf="showModal"
      [title]="selectedNodeTitle"
      [description]="selectedNodeDescription"
      (closeModal)="closeModal()"
      class="absolute inset-0 flex justify-center items-center z-50">
    </app-details>
  </div>
</div>
