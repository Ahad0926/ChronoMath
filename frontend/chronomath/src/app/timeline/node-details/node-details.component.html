<div class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
  <div
    class="rounded-lg shadow-lg p-6 max-w-md w-full relative flex flex-col justify-between h-[400px]"
    style="background-color: var(--bg-color); color: var(--text-color);"
  >

    <!-- Close Button -->
    <button 
      (click)="onClose()" 
      aria-label="Close Modal" 
      class="absolute top-2 right-2 text-xl text-[var(--text-color)] hover:opacity-70 transition"
    >
      &times;
    </button>

    <!-- Modal Content -->
    <div>
      <h2 class="text-2xl font-bold mb-4">{{ title }}</h2>
      <p>{{ description }}</p>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-between items-center mt-4">

      <!-- Left: Start or Coming Soon -->
      <div>
        <button
          (click)="addToFavorites()"
          class="px-5 py-2 font-medium rounded-lg transition"
          [ngStyle]="{
            'background-color': isFavorited ? 'var(--primary-color)' : 'var(--secondary-color)',
            'color': 'white'
          }"
        >
          {{ isFavorited ? 'Unfavourite' : 'Favourite' }}
        </button>
      </div>

      <!-- Right: Favourite Toggle -->
      <div>
        <button
          *ngIf="title === 'Islamic Golden Age'; else comingSoon"
          (click)="startLesson()"
          class="px-5 py-2 font-medium rounded-lg transition"
          [ngStyle]="{ 'background-color': 'var(--primary-color)', 'color': 'white' }"
        >
          Start Lesson
        </button>

        <ng-template #comingSoon>
          <span
            class="px-5 py-2 font-medium rounded-lg cursor-not-allowed"
            style="background-color: var(--secondary-color); color: white; opacity: 0.6;"
          >
            Coming Soon
          </span>
        </ng-template>
      </div>

    </div>

  </div>
</div>
